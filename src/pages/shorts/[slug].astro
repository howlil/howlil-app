---
import ArticleLayout from "../../layouts/ArticleLayout.astro";
import { getReadingTime } from "../../utils/readingTime";
import { getCollection } from 'astro:content';

export const prerender = true;

export async function getStaticPaths() {
  const shorts = await getCollection('shorts');
  return shorts.map((short: any) => ({
    params: { slug: short.slug },
    props: { short },
  }));
}

const { short } = Astro.props as any;
const { Content } = await short.render();
const readingTime = getReadingTime(short.body || '');
---

<ArticleLayout
  title={`${short.data.title} - Shorts`}
  articleTitle={short.data.title}
  date={short.data.date}
  backHref="/shorts"
  backLabel="Back to Shorts"
  tags={short.data.tags}
  tagLinkPrefix="/shorts"
  readingTime={readingTime}
>
  <!-- No cover image for shorts, content may have inline images -->
  
  <!-- Article Content -->
  <Content />
</ArticleLayout>
